<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Ex3_Validate</title>
</head>
<body>
    <!-- form의 name은 접귾ㄹ 때 사용하고자 하는 이름이지
    서버에게 넘겨주는 파라미터 이름이 아니다. -->
    <form action="" method="post" name="frm">
        <label for="s_id">아이디: </label>
        <input type="text" name="m_id" id="s_id" data-item="아이디"/>
        <br/>
        
        <label for="s_pw">비밀번호: </label>
        <input type="password" name="m_pw" id="s_pw" data-item="비밀번호"/>
        <br/>
        
        <label for="s_name">이름: </label>
        <input type="text" name="m_name" id="s_name" data-item="이름"/>
        <br/>

        <label for="s_loc">거주지: </label>
        <input type="text" name="m_loc" id="s_loc" data-item="거주지"/>
        <br/>
        
        <button type="button" onclick="test()">확인</button>


    </form>
    <script>
        function test(){
            //현재 문서에서 첫번째 form을 가져온다...?
            let f1 = document.forms[0]; //배열로 가져온다
            // console.log(f1.name);

            // 검색된 폼 내부에 있는 모든 하위요소들 가져온다 
            let sub_ar = f1.elements; //배열로 가져온다
            // console.log(sub_ar.length);
            // form의 요소들만 가져온다 input, button, select, textarea

            // 마지막에 들어온 button은 유효성 검사에서 제외시킨다.
            for(let i=0; i<sub_ar.length-1;i++){
                let str = sub_ar[i].value.trim();
                if(str == "" || str.length == 0){
                    let msg = sub_ar[i].dataset.item;
                    alert(msg+"을(를) 입력해주세요.");
                    sub_ar[i].value = ""; // 청소
                    sub_ar[i].focus();

                    return; //제어권 반환
                }
            }

            console.log("끝");

        }
    </script>
</body>
</html>